<div class="p-6">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">Crear Sub-Torneo</h2>
  <p class="text-gray-600 mb-4">
    Creando un sub-torneo para: <span class="font-semibold">{{ parentTournament.name }}</span>
  </p>
  
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="space-y-4">
      <!-- Tournament Name -->
      <div>
        <label for="name" class="block text-sm font-medium text-gray-700">Nombre del Sub-Torneo *</label>
        <input 
          type="text" 
          id="name" 
          formControlName="name" 
          class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"
          placeholder="Ingrese el nombre del sub-torneo"
        >
        <div *ngIf="form.get('name')?.invalid && form.get('name')?.touched" class="text-red-500 text-sm mt-1">
          El nombre es requerido
        </div>
      </div>
      
      <!-- Description -->
      <div>
        <label for="description" class="block text-sm font-medium text-gray-700">Descripción</label>
        <textarea 
          id="description" 
          formControlName="description" 
          rows="3"
          class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"
          placeholder="Descripción opcional"
        ></textarea>
      </div>
      
      <!-- Date Range -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label for="date_from" class="block text-sm font-medium text-gray-700">Fecha de Inicio *</label>
          <input 
            type="date" 
            id="date_from" 
            formControlName="date_from" 
            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"
          >
          <div *ngIf="form.get('date_from')?.invalid && form.get('date_from')?.touched" class="text-red-500 text-sm mt-1">
            La fecha de inicio es requerida
          </div>
        </div>
        
        <div>
          <label for="date_to" class="block text-sm font-medium text-gray-700">Fecha de Fin *</label>
          <input 
            type="date" 
            id="date_to" 
            formControlName="date_to" 
            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"
          >
          <div *ngIf="form.get('date_to')?.invalid && form.get('date_to')?.touched" class="text-red-500 text-sm mt-1">
            La fecha de fin es requerida
          </div>
        </div>
      </div>
      
      <!-- Categories -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Categorías *</label>
        <div class="grid grid-cols-2 md:grid-cols-3 gap-3 border border-gray-300 rounded-md p-3">
          <div *ngFor="let category of categories" class="flex items-center">
            <input 
              type="checkbox" 
              [id]="'category-' + category.id" 
              [checked]="isCategorySelected(category.id)"
              (change)="onCategoryChange($event, category.id)"
              class="h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"
            >
            <label [for]="'category-' + category.id" class="ml-2 block text-sm text-gray-700">
              {{ category.name }}
            </label>
          </div>
        </div>
        <div *ngIf="form.get('category')?.invalid && form.get('category')?.touched" class="text-red-500 text-sm mt-1">
          Seleccione al menos una categoría
        </div>
      </div>
    </div>
    
    <div class="mt-6 flex justify-end space-x-3">
      <button 
        type="button" 
        (click)="onCancel()" 
        class="px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"
      >
        Cancelar
      </button>
      <button 
        type="submit" 
        [disabled]="form.invalid"
        class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"
      >
        Crear Sub-Torneo
      </button>
    </div>
  </form>
</div>
